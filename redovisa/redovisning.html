<!doctype html>
<html lang="sv">
<head>
    <meta charset="utf-8">
    <title>Redovisningssida i kursen databas</title>
    <link rel="stylesheet" href="style/style.css">
    <link rel="icon" href="favicon.png">
</head>

<body>



<header>
    <nav>
        <a href="me.html">Me</a> |
        <a href="redovisning.html">Redovisning</a> |
        <a href="om.html">Om</a>
    </nav>
</header>



<article>

<header id="top">
<h1>Redovisning av kursmoment i kursen databas v1</h1>
</header>

<a href="#kmom01">Kmom01</a>
<a href="#kmom02">Kmom02</a>
<a href="#kmom03">Kmom03</a>
<a href="#kmom04">Kmom04</a>
<a href="#kmom05">Kmom05</a>
<a href="#kmom06">Kmom06</a>
<a href="#kmom10">Kmom10</a>

<section>
<h2 id="kmom01">Kmom01</h2>
<p>Jag sitter med MySQL version 8.0.14, jag använder mig även av MySQL workbench för redigering. Själva filerna körs via Workshbench och terminalen på min macdator. Det är första gången jag jobbar med databaser förutom det som gavs i kursen hmtlphp då vi jobbade med SQLlite. Så SQL känns ändå igen.</p>
<p>Guiden var jättebra! Det var ett par småfel (Snape istället för Severus) och någon del kunde förtydligas, t.ex. att i <a href="https://dbwebb.se/guide/kom-igang-med-sql-i-mysql/uppdatera-varden-lonerevision">Uppdatdera värden, lönerevisionen</a> kunde det framgå att vi skulle hårdkoda den gamla lönen. Annars var den jättebra. Jättebra att använda guiden som en del av kmom01 uppgifterna. Det gav i alla mig tid att verkligen försöka förstå varje steg och inte bara "läsa fort för att sedan göra uppgifter som ligger och väntar".</p>
<p>Det är ofta jag tycker att manualerna som det hänvsisas till är krångligare än "alternativa källor". Jag försöker ändå alltid gå till den manual ni hänvisar till men det är inte altid jag förstår. Det funkar dock bra som komplement. Andra guider såsom w3schools kan vara lite "för enkla". Där hittas en enkel syntax och en väldigt enkel demo och miniförklaring. Men för att förstå lite mer kompletterar jag med referensmanualen. Förstår jag inte då blir det ytterligare googlande.</p>
<p>Vet inte vad vi kan jämföra SQL. Vi skapar något, modifierar med hjälp av olika koder, och vi kan återställa ursprunget. Är det inte hur all programmering funkar? Beroende på vad vi "triggar" så körs en kod. Oftast finns det en reset så så du kan alltid komma tillbaka till ursprungsläget? Kanske att jag får javascripts-vibbar. Men det beror med största sannolikhet på att vi precis avslutat projektarbetet i javascript där vi stegvis hämtar olika kod i olika moduler. </p>
<p>Även om TIL är today så veckans lärdom; ta hjälp i forumet! Satt lite för länge och undrade vad jag gjort för fel på Severus (se ovan)</p>
<a href="top">Top</a>


</section>

<section>
<h2 id="kmom02">Kmom02</h2>
<p>Det är nytt att jobba med databaser på detta vis, men jag tycker ändå att det är något logiskt. Även om det är många steg, nya ord och sätt att tänka. Det som däremot inte är lika logiskt, nu till en början är hur själva SQL scriptet skrivs. T.ex. att en SELECT något som egentligen väljs "senare" i koden, som när vi använder join. Det blir ett nytt sätt att tänka. Även om kod generellt inte skrivs uppifrån och ner rakt av (utan att behöva hoppa tillbaka x antal gånger) så blir detta alltså systematiskt. </p>
<p>Vad jag varje gång blandar ihop är hur jag kör de olika filerna. Jag skriver mina sql-filer i MySQL Workshbench, bash och js i Atom. Sql filerna har jag kört både i terminal och i Workbench. Har försökt skriva en egen lathund som jag varje dag tycker är superlogisk och när en ny dag är framme är det inte alltid lika förståeligt. Så jag har inte riktgit fått ihop alla delarna. Node är ett sätt att läsa javascript som vi nu i sin tur skriver SQL-kod i. SQL koderna kan vi testa direkt i workbench för att se om vi får ut rätt data. Men det ska gå att få ut allt i terminalen.</p>
<p>Själva terminal1 uppgiften visste ja inte om vi skulle göra en "meny" för att låta användaren välja vilken fil som skulle köras. Då jag inte visste hur vi skulle välja vilken fil på annat sätt så fick det bli en meny. Dock är den inte loopad utan exekverar bara koden efter användarens val en gång. Oavsett om valet var giltigt eller ej.</p>
<p>Att jobba med async och await fungerade. Någon gång under uppgift 1 fastnade jag vid att just promise svarade med "pending". Funderade länge på varför den inte hämtade datan från databasen tills jag upptäckte att jag glömt skriva in att scriptet skulle vänta på svar från databasen. Men summa summarum av alltihop är att det är väldigt många trådar ute. Det finns en bra sammanhållning både i kursinnehåll och i anvädningsområden. Allt eftersom jag också kodar så upprepas saker och ting. En IF-sats känns inte så främmande längre. Snarare är det så att jag kanske stött på en trevlig funktion i ett språk som jag vill använda i ett annat. </p>
<p>Min smärtsamma TIL TA BACKUP!!! Av någon anledning hade jag lyckats radera allt i en fil och spara över den gamla. Har fortfarande ingen aning om hur detta gick till. Men jag gissar att det har att göra med att jag hade filer öppna i texeditor och i workbench. Jag hade döpt mina filer fel och behövde ändra detta. I samband med det stängde jag ner Workshbench - också för att jag ville se om jag kunde öppna allt och koppla upp mig till databasen osv. Någonstans där gissar jag att jag råkat köra en tom fil. Men det är bara gissning. </p>
<a href="top">Top</a>

</section>

<section>
<h2 id="kmom03">Kmom03</h2>
<p>Själva upplägget med menydrivna terminalprogram är väldigt likt kursmomentet marvin i python som gavs i höstas. Med den lilla skillnaden att skriva node istället för python3 i terminalen! Själva principen är densamma även om vi inte behöver exportera modulerna utan bara importera där de behövs. </p>

<p>Det finns en hel del förbättringspotential, tror jag. Jag hade till en början missuppfattat själva uppgiften och trodde att användaren först skulle göra ett val, sedan eventuellt skriva in sökord. Så jag hade gjort olika funktioner i min main för att hantera olika val. Detta resulterade i fyra i stort sett identiska funktioner som dessutom var onödiga så detta togs bort.
Jag såg sen ett mönster i hur jag importerade mina moduler och hur de sedan användes och tänkte att jag kanske kunde göra en funktion för detta. Alltså istället för att skriva larare.viewTeachers(db) och kompetens.compDiff(db) osv så skulle ville jag göra en val.funktion(db). Men jag kom inte så långt. Detta beror ju i sin tur på att jag döpt mina funktioner och moduler väldigt väldigt ologiskt.</p>
<p>ER-modelleringen likt UML-diagram i oopython har jag jättesvårt för. Kan inte riktigt få in tänket. Hittade en annan videotuturorial <a href="https://www.youtube.com/watch?v=QpdhBUYk7Kk">Entity Relationship Diagram</a> som hjälpte lite. Tycker det är jättebra att äntligen få verktyg för att kunna planera sin kod. Men jag personligen tycker det är jättesvårt då jag också tycker att text generellt är svårt.</p>

<p>Tycker detta kursmoment kanske var lite väl massivt. Väldigt många grejer att gå genom. Det går visserligen att bara kopiera och klistra in (om en inte gjort som jag och döpt om tabellen lärare till teacher och skapat alla attribut på engelska). Men jag har valt att ändå gå genom guiden steg för steg och då blir det mycket. Jag valde att döpa om min tabell i kmom01 för att just verkligen vara med på vad som händer när och inte bara kopiera. För att även om jag skriver av kod så blir det lätt att hjärnan ställer om sig på latläge. Trodde ej att detta skulle påverka själva rättningen. Har hållt mig till guidens namn från och med nu. Så allt är en härlig svengelska.</p>

<p>Summa summarum tid har inte nödvändigtvis gått till att lösa kod utan för att det är mycket att "traggla sig genom". Det är bra grejer, så jag vill ju verkligen men det var lite väl många moment/uppgifter.</p>
<a href="top">Top</a>




</section>

<section>
<h2 id="kmom04">Kmom04</h2>
<p>Tycker det var tydligt både från föreläsning och i text varför vi behöver transaction som en "funktion". Och inte bara kan ta bort från ett konto/tabell och lägga till motsvarande utan att göra det samtidigt. Så just den delen är lätt att förstå.</p>
<p>Det gick också bra att komma igång med ramverken. Det är inte helt enkelt att bolla de olika delarna i huvudet. Att följa en artikel eller genomgång så känns ändå logiskt och enkelt att förstå. När jag sen ska försöka skapa själv så är det redigt motigt. Har ingen riktigt bra lösning på det hela. Försöker ha en bra kodstruktur och skriva enkla kommenterar så att jag lättare ska förstå. Men det blir väldigt många rader. Någon gång minimerade jag samtliga kommenterar, för att sedan upptäcka att de visades efter att fliken öppnas igen. Och att behålla alla kommenterar blev överväldigt! </p>
<p>Jag löste inte uppgiften med bara en funktion för att föra pengar åt båda hållen. Överlag förstod jag inte vad som syftades på med "all övrig kod i src/". Jag återanvände koden för bank, exporterade dessa och require de i terminal.js där jag hanterade användares input från cli.js Detta kanske var fel?</p>
<p>Ska helt ärligt säga att jag tänkt ge upp flera gånger. Detta då jag inte har någon aning om det blivit fel eller ej. I tidigare uppgifter ska saker fungera - fungerar det inte har det blivit fel. Jag döpte ju t.ex. om min tabell till teacher vilket gjorde att det inte fungerade i er testmiljö. Även filerna döpte jag fel. Detta ligger nu kvar som en lite grå skugga att det kan göras fel i dessa uppgifter som sedan blir MEGAFEL längre fram.
Det är svårt att veta om jag gjort rätt med min ER-modellering t.ex. och därmed om det blir helt fel sen när det är dags att implementera e-shopen.
Vet inte om det är möjligt, men kanske skulle det vara möjligt att lämna in stegvis? Nu är det så otroligt många moment där jag upplever det som att vi ska göra rätt - gör verkligen rätt, tänka på, strukturera upp korrekt osv. Men jag har ingen aning om det är korrekt. Och jag har ingen aning om vilka konsekvenser det har längre fram. Detta är såklart en del av den lärande processen, men jag upplever inte att det finns utrymme för lärande och reflektion utan att det bara är att "få det gjort".</p>
<p>Kontra detta, så blir det jättesvårt att veta om jag förstått tänket eller ej. Detta kanske något personliga orosmoln är väldigt kopplat till själva e-shopen. Att skriva sql-kod, att strukturera upp och bygga upp banken med Express, Node och EJS, jobba genom artiklarna, detta har varit överskådligt och bra! Men att modellera och projektera hela e-shopen (trots Mos föreläsningsvideo från 2017) har varit svinsvårt!
Detta i sin tur är också för att jag kanske ville testa att göra det själv. Bara kolla genom föreläsningen en snabb gång och sedan tänka själva. I slutet fick jag då lägga till en hel del som jag missat och ta bort en del annat. Och dessvärre är jag inte helt med på varför utan vill helt enkelt mest bara försäkra mig på att det ska fungera enligt Mos tänk, kod och struktur för kursen.</p>
<p>TIL: sluta försök själv och gör enligt alla exempel. Det är enkelt att vara efterklok! :)</p>
<a href="top">Top</a>

</section>

<section>
<h2 id="kmom05">Kmom05</h2>
<p>Övningarna var väldigt bra och det gick att förstå uppbyggnaden av prodecurer och triggers. Jag använde mig dock inte av flera sätt att jobba med triggers utan använde mig enbart av att logga ändringar av med insert, delete och edit på specifikt tabellen product. I skrivande stund funderar jag på om flera av mina procedurer kunde ha fixats med triggers istället. T.ex. när jag lägger till en produkt så har jag i min procedur lagt in att jag ska insert detta i product samt att den också per auto tillhör kategori "new", just denna grej skulle gå att ordna med en trigger. Alltså när jag gör en INSERT på tabellen product så ska även product_2_cat triggas. </p>

<p>Producedurer skulle jag beskriva är lite som att skriva funktioner eller kanske klasser. En produceur, likt en funktion, kan ta emot data och när ett anrop till proceduren görs så exekveras koden i proceduren. Det är ett sätt att programmera direkt i databasen. Triggers är lite som det låter, när något sker i databasen så kan en trigger göra att annat också sker. Triggers sker dock i "bakgrunden" och de returnerar inget. Att jobba programmera direkt i databasen har sina fördelar då det är kopplat till direkt till databasen, du har alltså din kod samlat. Nu när vi jobbar med JS och CRUD blir det en hel del andra funktioner att ha koll på det kan därför vara skönt att kunna dela upp sin kod. Nackdelen är dock att olika språk har olika programmeringstandard att skriva en funktion i JS kräver camelcase att skriva en procedur i SQL görs med små bokstäver och _ . Det gäller därför att döpa sina funktioner, metoder och procedurer konsekvent så att det går at hitta. </p>

<p>CRUD gick bra att implementera, lite lurigt att förstå, till en början, hur datan ser ut som vi får av proceduren. Trots att jag gjorde console.log(). Det var också till en början svårt att strukturea upp var en ska börja koda. Men efter ett tag fick jag någon sorts rutin på det. 1. Skapa route 2. skapa SQL kod - kolla SQL kod 3. skapa funktion 4. skapa sidan 5. kolla att allt funkar.</p>

<p>Kommentar till uppgiften: Något som jag inte är säker på om det fungerar är tabeller där jag skapat ID med AUTO_INC. Om jag kör min insert.sql två gånger så får jag varningsmeddelanden. Jag har hårdkodat själva ID men det blir inte bra när jag lägger till i tabellen då jag vill att det ska öka. Har förstått att många (på nätet) haft problem med auto_inc just vid inload from file. Kanske är det så att min delete inte fungerar? </p>
<p>Min invadd() här också begränsad till att inte kunna lägga till produkt på "fel" hylla då jag definerat detta tidigare. Vet inte om det var fel gjort men nu gjorde jag så och det var avsiktligt. Alltså flera produkter kan finnas på en hylla men en produkt kan inte vara på flera hyllor.</p>

<p>Jag har inte jobbat med någon då jag är studerar på distans. Tänker att det finns massor mer att lära sig och att tid skulle kunna gå till utveckling. I någon föreläsning eller genomgång sa ni "försök kolla på allt och strukturera upp och prioritera". Detta kan ju verka enkelt - för någon som programmerat i flera år. För en nybörjare blir allt lika viktigt. Det är lite som att ha en låda muttrar och cykeldelar framför sig och säga till någon som aldrig satt ihop en cykel att försöka prioritera vad som är viktigt att börja med. Alltså inte illvilja bara väldigt svårt!</p>
<a href="top">Top</a>

</section>

<section>
<h2 id="kmom06">Kmom06</h2>
<p>Index är som att skapa ordning i din tabell. Den hjälper dig att hitta snabbare helt enkelt. Index i en databas är som vilket index som helst, ta en receptbok t.ex. Du vill söka recept på pannkakor i en receptbok på 500 sidor, istället för att bläddra genom varje sida kan du gå till registret(/index) och kolla vilken sida recept på pannkakor finns. I en databas handlar det om att göra det lättare att ta fram data utan att behöva gå genom hela databasen. Primära nycklar och Främmande nycklar är per automatik. Det går att skapa index på fler sätt. </p>
<p>Det var svårt att sätta index på eshopen. Då de flesta av mina tabeller var foreign keys. Index skapades till slut i tabellen prod_cat som är en tabell över kategorierna. Ett index för att kunna söka på själva kategorinamnet. Tänkte att detta skulle vara bra vid en utveckling då jag kanske vill göra en sida som sorterar på kategorierna typ REA 25%, Böcker osv. Inventory fick också ett index över hyllorna som också kan tänkas växa och i längre loppet kanske lagret vill dra ut picklistor som är filtrerade på hyllan så de som jobbar på lagerlokal A bara får en picklist för hyllorna som börjar på A. Det sista index sattes på products och för titlarna, vilket är samma princip som för katalogen.</p>
<p>Gällande funktioner i databasen tänker jag att ju mer vi kan göra på kortare avstånd desto bättre. Om vi direkt med data i databasen kan generera ny data är det väl bättre än att vi lägger in data i en databas, hämtar det, kör genom det genom en funktion i annat språk och skriver in den nya datan i databasen. </p>
<p>Min eshop. </p>
<p>Oj vad mycket jag vill göra. Kanske i skrivande stund har jag fått tid och fixat lite mer. Ett exempel är att jag när en specifik order visas - så ska kunden kunda ändra antalet som vill köpas. Detta amount ska dock vara begränsat till hur många  items som finns i stock. Det fungerade när jag bakade in items in i min vy som renderas, men sen blev det en krock av något slag som jag inte kunde lösa på annat sätt än att ta bort items. Nu av någon anledning funkar inte items[i].items trots att i tickar på och att items[0].items samt items[1].items visar korrekt, för en order med två olika produkter dvs. </p>
<p>Inga specifika extrauppgifter har gjorts, däremot testade jag att använda lokal variabel för min procedur pick_list(). Denna skickar meddelande att ordern inte ska plockas om orderstatusen inte är "ordered". Satt in några liknande sådana på ett par producedurer</p>
<p>Skulle också givetvis vilja lösa att inte kunna klicka sig vidare i det fall en order är ordered, deleted eller shipped. </p>
<p>Hade också råkat uppdatera inventory redan när kunden skapar ordern. Tänker att det kanske görs så i en "vanlig shop" men att denna variabel är tidsbegränsad.</p>
<p>Till sist, meddelandet om att varan inte finns i inventory. Detta blev kruxigt då jag satt amount till att bli max så många varor som finns av produkten - när kunden skapar själva beställningen. Vilket gör att diffen alltid bara bli 0 (då jag ännu inte löst extrauppgiten med att ta bort själva varan från lagret också). Det är lite "fulfixat" med att skicka med en extra kolumn när en skapar sin  picklist. Den säger helt enkelt att du nu när du hämtar varorna tömmer lagret.</p>

<p><b>Till Krav 6 i Webbklienten</b> Jag hade redan byggt en sida som hette shop/order som visar kundens specifika order - vilket jag tyckte var mer logisk. För kravet har jag gjort en undersida shop/orders-all . Om detta är problem får jag ändra det.
Klickar ni på ordern kommer ni alltså till eshop/order som är krav 7).</p>

<p>Detta kursmoments TIL! Underskatta inte vad <code> &lt;% }; %&gt </code> kan ge dig för problem. Glömde ta bort en sådan och felsökte i två timmar innan jag hittade felet. Felmeddelandet som gavs var att själva sidan inte gick att hitta i views mappen.</p>

<a href="top">Top</a>

</section>

<section>
<h2>Kmom10</h2>
<p>Här är redovisningstexten</p>

<p><b>Tentan</b> hade många delar men jag tyckte det var rimligt. Även om kursen varit mer omfattande så var jag ändå glad över att inte tentan försökte täcka alla delar. Jag hade gjort en preptenta innan så det hjälpte mig att förstå omfattningen och var jag kunde lägga tid. Att helt enkelt bygga upp något från början - även om många delar från de tidigare kursmomenten gick att återanvända. Hade också "tur" att jag dagen innan tentan hade kollat på kmom10 och projektarbetet där det finns ett krav för sök-funktion. Denna satt jag med under hela eftermiddagen och kunde därmed återanvända lösningar till tentan. Vet ej om jag hunnit med annars.</p>

<p><b>Projekt eshop 3</b>.</p>

<p><b>Krav 1</b>.</p>
<p><b>About </b>Sidan about uppdateras så att informationen om vem som gjort uppgift och delmomenten eshop1, 2, 3. Tabellen visas i terminal- och webbklienten.</p>
<p><b>Log </b>Missuppfattade först uppgiften så show_log() kan nu filtreras i antingen söksträng eller via antalet loggar.  Den tidigare show_log() ändrades till att show_log(a_num) där a_num är valet av antalet loggar som ska visas. Default = 0 och då visas alla - begränsat till 20. </p>
<p>Söksträngen är concatinerad med % både före och efter userinput.</p>
<p><b>Kategorierna </b> Categories är nu uppdaterad klickbart. ID skickas med som get från webbklienten och en ny sorterad produktsida visas. </p>
<p>Admin - är sidan där du kan editera och deleta produkter. När du edit-product kan du även lägga till fler kategorier. Edit-product kommer alltså skicka in en lista med kategorier. Metoden som hanterar detta är satt på en loop som kallar på edit_product för varje kategori. Själva proceduren är i sin tur satt så att om product + kategori kopplingen redan finns i prod_2_cat så görs inget, annars skapas ett nytt. Jag har dock inte hanterat att radera kategorierier som är ditlagda.</p>

<p><b>Krav 2</b>. Hade inte tänkt att göra denna, men såg att jag eventuellt redan löst ett par krav på denna.</p>
<p><b>Hantera/visa sin order</b>. Kunderna kan visa CUSTOMERS &gt; ORDERS se sina orders. Här kan kunden se viktiga datum och status för ordern. Därifrån kan kunden klicka på respektive order &gt; VIEW/EDIT och få fram all info enligt krav och välja att beställa (ORDER) delete (DELETE) eller ändra (SHOP SOME MORE). Om ordern är annat än created/updated kan du inte göra något. Dessvärre är ju allt klickbart - men inget händer. Notera att "order-rows" anges som "Number of products".</p>
<p><b>Lagret</b>. Har inte löst lagerstatus.</p>

<p><b>Övergripande </b> Det är svårt att implementera utveckling då statusen för själva eshopen är något annorlunda än vad den kanske bör. Alltså att ha löst vissa vyer/procedurer på ett sätt skapar mer eller mindre problem senare. Krav 2 där det ska finnas en komplet order med kunddetaljer. Hade jag gjort i eshop1 (?) men så tog jag bort kunddetaljerna för att jag tänkte om kunden själv klickat sig in så vet den nog sitt namn, adress osv. Tog alltså bort det för att nu i eshop3 lägga till det igen. </p>
<p>Det var helt klart rimligt att denna del av kursen var optionell. Då det också av anledningar nämnda ovan, blir svårare och svårare att utveckla. Inte för att uppgifterna blir svårare utan för att koden helt enkelt är fel från början. Tiden att skriva den nya koden för de nya kraven är en del, men ju längre kursen gick desto mer blev det att "jaga felen bakåt". Vilket i sin tur såklart är lärorikt i sig. Men det hjälper en inte att bli klar.</p>

<p><b>Om kursen.</b> Det har väl redan påtalats att kursen varit massiv. Och att det varit väldigt många delar. Har tidigare redovisningar också poängterat i att allt blir lika viktigt och lika svårt - till en början. Nu såhär i slutet kan jag ju övergripande prioritera och därmed strukturera koden bättre.</p>
<p> Kanske skulle kursen kompletteras med korta videos som förklarar sql koden? Som ett komplement/ersättning till övningarna. Övningarna i sin tur kanske skulle vara mer av övningar - med förklarande videos för att ge koden en viss utvecklingschans? Noterade att flera skrev "det är bara att kopiera koden" i chatten. Vilket skulle ha varit bra för mig att göra då det inte blivit lika mycket free-styleande och huvudbry för er lärare som rättar...</p>
<p>Jättesvår kurs! Många delar. Har lagt mer tid på denna kurs än någon annan. Och även om resulterande kod är rörig och på många sätt kunde göras bättre, så kan jag ju se att det kan göras bättre och det är ju bra. Det blir ändå en 5:a. Något för mycket material - kanske kunde webbklienten vara optionell eller en del av kursen likt FLASK i oopython? Kanske hade det då getts mer tid till att utveckla SQLkoden? Optimera, felsöka, joina, skriva fler funktioner. Men det kanske å andra sidan är för avancerat. </p>



<a href="top">Top</a>

</section>

<footer>

</footer>

</article>



<script type="text/javascript" src="js/main.js"></script>
</body>
</html>
